<template>
  <require from="../converters/hostname"></require>
  <require from="../converters/date-format"></require>
  <require from="../converters/pluralise"></require>

  <div class="item-preview">
    <h1 class="item-preview__title" if.bind="item.url">
      <a class="item-preview__link" href.bind="item.url" target="_blank">${item.title}</a>
    </h1>

    <h1 class="item-preview__title" if.bind="!item.url">
      <a class="item-preview__link" route-href="route: item; params.bind: { id: item.id}">${item.title}</a>
    </h1>

    <a class="item-preview__site-link">${item.url | hostname}</a>

    <p class="item-preview__info">
      ${item.score} ${item.score | pluralise: 'point'} by
      <a class="item-preview__author-link" route-href="route: user; params.bind: { id: item.by }">${item.by}</a>

      ${item.time | dateFormat}

      <template if.bind="item.descendants">
        | <a class="item-preview__comments-link" route-href="route: item; params.bind: { id: item.id}">
            <template if.bind="item.descendants < 1">discuss</template>
            <template if.bind="item.descendants >= 1">
              ${item.descendants} ${item.descendants | pluralise: 'comment'}
            </template>
          </a>
      </template>
    </p>
  </div>
</template>
