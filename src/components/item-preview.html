<template>
  <require from="../converters/hostname"></require>
  <require from="../converters/date-format"></require>

  <div class="item-preview">
    <template if.bind="item.url">
      <a class="item-preview__link" href.bind="item.url" target="_blank">${item.title}</a>
    </template>
    <template if.bind="!item.url">
      <a class="item-preview__link" route-href="route: item; params.bind: { id: item.id}">${item.title}</a>
    </template>

    <a class="item-preview__site-link">${item.url | hostname}</a>

    <p class="item-preview__info">
      ${item.score} points by ${item.by} at ${item.time | dateFormat} |
      <a class="item-preview__comments-link" route-href="route: item; params.bind: { id: item.id}">
        <template if.bind="item.descendants < 1">discuss</template>
        <template if.bind="item.descendants >= 1">${item.descendants} comments</template>
      </a>
    </p>
  </div>
</template>
