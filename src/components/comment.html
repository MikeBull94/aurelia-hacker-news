<template>
  <require from="../converters/date-format"></require>

  <li class="comment" if.bind="!comment.deleted">
    <span click.delegate="toggle()" class="comment__toggle">[${expanded ? '-' : '+' + replies.length}]</span>

    <div class="comment__body">
      <p class="comment__author">
        <a class="comment__author-link" route-href="route: user; params.bind: { id: comment.by }">${comment.by}</a>
        ${comment.time | dateFormat}
      </p>

      <p class="comment__text" innerhtml.bind="comment.text" if.bind="expanded"></p>
    </div>
  </li>

  <ul class="comment__reply" repeat.for="reply of replies" if.bind="expanded">
    <hn-comment comment.bind="reply"></hn-comment>
  </ul>
</template>
