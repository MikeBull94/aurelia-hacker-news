<template>
  <p class="news-item__deleted" if.bind="item.deleted">
    Item ${item.id} has been deleted.
  </p>

  <div class="news-item" if.bind="!item.deleted">
    <template if.bind="item.parent">
      <a class="news-item__parent" route-href="route: item; params.bind: { id: item.parent }">View Parent &raquo;</a>
    </template>

    <hn-item-preview item.bind="item"></hn-item-preview>

    <p class="news-item__text" if.bind="item.text" innerhtml.one-way="item.text"></p>

    <p class="news-item__no-comments" if.bind="item.type === 'story' && comments.length < 1">
      No comments yet.
    </p>

    <ul class="news-item__comments" if.bind="comments.length > 0">
      <template repeat.for="comment of comments">
        <template if.bind="comment !== null && !comment.deleted">
          <li
            as-element="hn-comment"
            comment.bind="comment"
            depth.bind="1">
          </li>
        </template>
      </template>
    </ul>
  </div>
</template>
